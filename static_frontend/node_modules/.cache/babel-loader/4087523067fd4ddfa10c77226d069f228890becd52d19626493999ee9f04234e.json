{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[query,setQuery]=useState('');const[result,setResult]=useState(null);const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState('');const handleSubmit=async event=>{event.preventDefault();if(!query.trim()){setError('Please enter a query.');return;}setIsLoading(true);setError('');setResult(null);try{const response=await axios.post('http://localhost:8000/api/rag_query/',{question:query});setResult(response.data);}catch(err){console.error(\"Error fetching RAG query:\",err);let errorMessage='Failed to fetch data. Ensure the backend is running.';if(err.response){var _err$response$data;errorMessage=((_err$response$data=err.response.data)===null||_err$response$data===void 0?void 0:_err$response$data.detail)||\"Server error: \".concat(err.response.status);}else if(err.request){errorMessage='No response from server. Is it running?';}setError(errorMessage);}finally{setIsLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"News Article RAG Query\"})}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"query-form\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:query,onChange:e=>setQuery(e.target.value),placeholder:\"Enter your query here...\",rows:\"3\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,children:isLoading?'Processing...':'Submit Query'})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),isLoading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading results...\"}),result&&/*#__PURE__*/_jsxs(\"div\",{className:\"results-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Query Results\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Response:\"}),/*#__PURE__*/_jsx(\"p\",{children:result.response})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Context Used:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"context-text\",children:result.context})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Evaluation Metrics:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"metrics\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Context Relevance:\"}),\" \",result.evaluation_metrics.context_relevance.toFixed(2)]}),result.evaluation_metrics.context_relevance_reasoning&&/*#__PURE__*/_jsx(\"p\",{className:\"reasoning\",children:/*#__PURE__*/_jsxs(\"em\",{children:[\"Reasoning: \",result.evaluation_metrics.context_relevance_reasoning]})}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Faithfulness:\"}),\" \",result.evaluation_metrics.faithfulness.toFixed(2)]}),result.evaluation_metrics.faithfulness_reasoning&&/*#__PURE__*/_jsx(\"p\",{className:\"reasoning\",children:/*#__PURE__*/_jsxs(\"em\",{children:[\"Reasoning: \",result.evaluation_metrics.faithfulness_reasoning]})}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Answer Relevance to Query:\"}),\" \",result.evaluation_metrics.answer_relevance_q.toFixed(2)]}),result.evaluation_metrics.answer_relevance_q_reasoning&&/*#__PURE__*/_jsx(\"p\",{className:\"reasoning\",children:/*#__PURE__*/_jsxs(\"em\",{children:[\"Reasoning: \",result.evaluation_metrics.answer_relevance_q_reasoning]})})]})]})]})]})]});}export default App;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","App","query","setQuery","result","setResult","isLoading","setIsLoading","error","setError","handleSubmit","event","preventDefault","trim","response","post","question","data","err","console","errorMessage","_err$response$data","detail","concat","status","request","className","children","onSubmit","value","onChange","e","target","placeholder","rows","type","disabled","context","evaluation_metrics","context_relevance","toFixed","context_relevance_reasoning","faithfulness","faithfulness_reasoning","answer_relevance_q","answer_relevance_q_reasoning"],"sources":["C:/Users/sachi/cursor projects/RAG_on_news_Articles/static_frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nfunction App() {\n  const [query, setQuery] = useState('');\n  const [result, setResult] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    if (!query.trim()) {\n      setError('Please enter a query.');\n      return;\n    }\n    setIsLoading(true);\n    setError('');\n    setResult(null);\n\n    try {\n      const response = await axios.post('http://localhost:8000/api/rag_query/', { question: query });\n      setResult(response.data);\n    } catch (err) {\n      console.error(\"Error fetching RAG query:\", err);\n      let errorMessage = 'Failed to fetch data. Ensure the backend is running.';\n      if (err.response) {\n        errorMessage = err.response.data?.detail || `Server error: ${err.response.status}`;\n      } else if (err.request) {\n        errorMessage = 'No response from server. Is it running?';\n      }\n      setError(errorMessage);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>News Article RAG Query</h1>\n      </header>\n      <main>\n        <form onSubmit={handleSubmit} className=\"query-form\">\n          <textarea\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            placeholder=\"Enter your query here...\"\n            rows=\"3\"\n          />\n          <button type=\"submit\" disabled={isLoading}>\n            {isLoading ? 'Processing...' : 'Submit Query'}\n          </button>\n        </form>\n\n        {error && <p className=\"error-message\">{error}</p>}\n\n        {isLoading && <p>Loading results...</p>}\n\n        {result && (\n          <div className=\"results-container\">\n            <h2>Query Results</h2>\n\n            <div className=\"result-section\">\n              <h3>Response:</h3>\n              <p>{result.response}</p>\n            </div>\n\n            <div className=\"result-section\">\n              <h3>Context Used:</h3>\n              <p className=\"context-text\">{result.context}</p>\n            </div>\n\n            <div className=\"result-section\">\n              <h3>Evaluation Metrics:</h3>\n              <div className=\"metrics\">\n                <p><strong>Context Relevance:</strong> {result.evaluation_metrics.context_relevance.toFixed(2)}</p>\n                {result.evaluation_metrics.context_relevance_reasoning && <p className=\"reasoning\"><em>Reasoning: {result.evaluation_metrics.context_relevance_reasoning}</em></p>}\n\n                <p><strong>Faithfulness:</strong> {result.evaluation_metrics.faithfulness.toFixed(2)}</p>\n                {result.evaluation_metrics.faithfulness_reasoning && <p className=\"reasoning\"><em>Reasoning: {result.evaluation_metrics.faithfulness_reasoning}</em></p>}\n                \n                <p><strong>Answer Relevance to Query:</strong> {result.evaluation_metrics.answer_relevance_q.toFixed(2)}</p>\n                {result.evaluation_metrics.answer_relevance_q_reasoning && <p className=\"reasoning\"><em>Reasoning: {result.evaluation_metrics.answer_relevance_q_reasoning}</em></p>}\n              </div>\n            </div>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}